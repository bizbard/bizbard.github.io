<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="author" content="Jeff"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="alternate" type="application/rss+xml" title="Jeff's Blog" href="/feed.xml"><meta name="msapplication-TileColor" content="#ffffff"><title>Design Patterns - 2022</title><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" crossorigin="" src="/assets/app-e02a7697.js"></script><style>*,:after,:before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}h1,h2,h3{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}strong{font-weight:bolder}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}h1,h2,h3,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}img,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}:root{--c-bg:#fff;--c-scrollbar:#eee;--c-scrollbar-hover:#bbb}html{background-color:var(--c-bg)}html{overflow:scroll}*{scrollbar-color:var(--c-scrollbar) var(--c-bg)}.prose{color:var(--fg);max-width:65ch;font-size:1rem;line-height:1.75}.prose a{color:var(--fg-deeper);text-decoration:none;font-weight:500}.prose strong{color:var(--fg-deep);font-weight:600}.prose ul>li{position:relative;padding-left:1.75em}.prose ul>li:before{content:"";position:absolute;background-color:#d1d5db;border-radius:50%;width:.375em;height:.375em;top:.6875em;left:.25em}.prose h1{color:var(--fg-deeper);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose h2{color:var(--fg-deep);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose h3{color:inherit;font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6;opacity:.7}.prose code{color:var(--fg-deep);font-weight:600;font-size:.875em}.prose code:before{content:"`"}.prose code:after{content:"`"}.prose pre{color:#e5e7eb;overflow-x:auto;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding:.8571429em 1.1428571em}.prose pre code{background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:400;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose pre code:before{content:none}.prose pre code:after{content:none}.prose p{margin-top:1.25em;margin-bottom:1.25em}.prose ul{margin-top:1.25em;margin-bottom:1.25em;list-style-type:none}.prose li{margin-top:.5em;margin-bottom:.5em}.prose ul ul{margin-top:.75em;margin-bottom:.75em}.prose>:first-child{margin-top:0}.prose>:last-child{margin-bottom:0}.prose pre:not(.shiki){padding:0;margin:0;background:0 0}.prose .shiki{font-family:DM Mono,Input Mono,Fira Code,monospace;font-size:1.05em;line-height:1.4;margin:.5em 0}.shiki-light{background:#f8f8f8!important}.shiki-dark{background:#0e0e0e!important}html:not(.dark) .shiki-dark{display:none}.prose{--fg:#555;--fg-deep:#222;--fg-deeper:#000;color:var(--fg)}.prose a{font-weight:inherit;text-decoration:none;border-bottom:1px solid rgba(125,125,125,.3);transition:border .3s ease-in-out}.prose a:hover{border-bottom:1px solid var(--fg)}a.header-anchor{float:left;margin-top:.125em;margin-left:-1.2em;padding-right:.5em;font-size:.85em;opacity:0;text-decoration:none;border:0!important}a.header-anchor:focus,a.header-anchor:hover{text-decoration:none}h2:focus .header-anchor,h2:hover .header-anchor,h3:focus .header-anchor,h3:hover .header-anchor{opacity:.5}@media (max-width:1200px){.table-of-contents{display:none}}.table-of-contents{position:fixed;top:80px;padding-top:70px;font-size:.8em;right:10px;width:200px;bottom:0;overflow-y:auto;overflow-x:hidden;text-overflow:ellipsis;opacity:0;transition:all .4s ease-out}.table-of-contents:hover{opacity:.5}.table-of-contents ul>li:before{display:none}.table-of-contents ul>li{padding-left:.8rem}*,:after,:before{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-scroll-snap-strictness:proximity;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow:0 0 rgba(0,0,0,0);--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5)}@font-face{font-family:DM Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthSQBLyM.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:DM Mono;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthqQBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZJhiI2B.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZthiI2B.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZNhiI2B.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZxhiI2B.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZBhiI2B.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZFhiI2B.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZJhiI2B.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZthiI2B.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZNhiI2B.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZxhiI2B.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZBhiI2B.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZFhiI2B.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZ9hiA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZJhiI2B.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZthiI2B.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZNhiI2B.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZxhiI2B.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZBhiI2B.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZFhiI2B.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZ9hiA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[i-ri-article-line=""]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 24 24' display='inline-block' height='1.2em' width='1.2em' vertical-align='text-bottom' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zm-1-2V4H5v16h14zM7 6h4v4H7V6zm0 6h10v2H7v-2zm0 4h10v2H7v-2zm6-9h4v2h-4V7z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;display:inline-block;height:1.2em;width:1.2em;vertical-align:text-bottom}[i-uil-github-alt=""]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 24 24' display='inline-block' height='1.2em' width='1.2em' vertical-align='text-bottom' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.708 5.708 0 0 0-1.837-2.415a1.2 1.2 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.44 4.44 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182ZM20.737 5.377a5.39 5.39 0 0 0 .09-.42a6.278 6.278 0 0 0-.408-3.293a1.002 1.002 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.87 13.87 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a.997.997 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357c.025.127.051.246.079.354a6.27 6.27 0 0 0-1.256 3.83a8.422 8.422 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a4.591 4.591 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.678 1.678 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a6.61 6.61 0 0 1-.033-.738a4.258 4.258 0 0 1 .92-2.713a3.022 3.022 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.388 3.388 0 0 1-.155-.555a4.094 4.094 0 0 1 .079-1.616a7.543 7.543 0 0 1 2.415 1.18a1.009 1.009 0 0 0 .827.133a11.777 11.777 0 0 1 6.173.001a1.005 1.005 0 0 0 .83-.138a7.572 7.572 0 0 1 2.406-1.19a4.04 4.04 0 0 1 .087 1.578a3.205 3.205 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.122 4.122 0 0 1 20 9.203a7.039 7.039 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3.06 3.06 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a4.881 4.881 0 0 0-.155-1.311a4.256 4.256 0 0 0-.116-.416a6.513 6.513 0 0 0 5.445-6.424A8.697 8.697 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826Z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;display:inline-block;height:1.2em;width:1.2em;vertical-align:text-bottom}.absolute{position:absolute}.z-40{z-index:40}.m-6{margin:1.5rem}.m-auto{margin:auto}.\!-mt-2{margin-top:-.5rem!important}.mb-0{margin-bottom:0}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-10{margin-top:2.5rem}.mt-8{margin-top:2rem}.h-10{height:2.5rem}.w-10{width:2.5rem}.flex{display:flex}.flex-auto{flex:1 1 auto}.select-none{user-select:none}.px-7{padding-left:1.75rem;padding-right:1.75rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.font-mono,[font-mono=""]{font-family:DM Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-sm{font-size:.875rem;line-height:1.25rem}.text-gray-700{--un-text-opacity:1;color:rgba(55,65,81,var(--un-text-opacity))}.hover\:op75:hover{opacity:.75}.op50,.opacity-50,[op50=""]{opacity:.5}.outline-none{outline:2px solid transparent;outline-offset:2px}@media (max-width:767.9px){.lt-md\:hidden{display:none}}@media (min-width:768px){[md\:hidden=""]{display:none}}@media (min-width:1024px){.lg\:fixed{position:fixed}}.nav[data-v-116d6082]{padding:2rem;width:100%;display:grid;grid-template-columns:auto max-content;box-sizing:border-box}.nav>[data-v-116d6082]{margin:auto}.nav a[data-v-116d6082]{cursor:pointer;text-decoration:none;color:inherit;transition:opacity .2s ease;opacity:.6;outline:0}.nav a[data-v-116d6082]:hover{opacity:1;text-decoration-color:inherit}.nav .right[data-v-116d6082]{display:grid;grid-gap:1.2rem;grid-auto-flow:column}.nav .right>[data-v-116d6082]{margin:auto}</style><link rel="preload" href="/assets/index-85ed439e.css" as="style"><link rel="modulepreload" crossorigin="" href="/assets/learn-design-pattern-2022-1c25aec4.js"><meta property="og:title" content="Design Patterns - 2022"><meta property="og:description" content="Design Patterns - 2022"><meta name="description" content="Design Patterns - 2022"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthSQBLyM.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthqQBA.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZJhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZthiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZNhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZxhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZBhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZFhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZJhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZthiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZNhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZxhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZBhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZFhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZ9hiA.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZJhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZthiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZNhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZxhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZBhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZFhiI2B.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYAZ9hiA.woff2"></head><body class="font-sans text-gray-700 dark:text-gray-200"><div id="app" data-server-rendered="true"><!--[--><header class="header z-40" data-v-116d6082=""><a href="/" class="w-10 h-10 absolute lg:fixed m-6 select-none outline-none" focusable="false" data-v-116d6082=""><img src="/logo-dark.svg" alt="logo" style="display:none" data-v-116d6082=""><img src="/logo.svg" alt="logo" data-v-116d6082=""></a><nav class="nav" data-v-116d6082=""><div class="spacer" data-v-116d6082=""></div><div class="right" data-v-116d6082=""><a href="/posts" class="" title="Researches" data-v-116d6082=""><span class="lt-md:hidden" data-v-116d6082="">Researches</span><div i-ri-article-line="" md:hidden="" data-v-116d6082=""></div></a><a href="/projects" class="lt-md:hidden" title="Projects" data-v-116d6082="">Projects </a><a href="https://github.com/bizbard" target="_blank" title="GitHub" class="lt-md:hidden" data-v-116d6082=""><div i-uil-github-alt="" data-v-116d6082=""></div></a><a class="select-none" title="Toggle Color Scheme" data-v-116d6082=""><svg style="vertical-align:sub;display:none" class="inline" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938A7.999 7.999 0 0 0 4 12z"></path></svg><svg style="vertical-align:sub" class="inline" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636L5.636 7.05L3.515 4.93zM16.95 18.364l1.414-1.414l2.121 2.121l-1.414 1.414l-2.121-2.121zm2.121-14.85l1.414 1.415l-2.121 2.121l-1.414-1.414l2.121-2.121zM5.636 16.95l1.414 1.414l-2.121 2.121l-1.414-1.414l2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></a></div></nav></header><main class="px-7 py-10"><!--[--><!----><div class="prose m-auto mb-8"><h1 class="mb-0">Design Patterns - 2022</h1><p class="opacity-50 !-mt-2">Mar 1, 2022 <span>· 2months</span></p><!----></div><article><!--[--><div class="prose m-auto"><p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#singleton-pattern">Singleton Pattern</a><ul><li><a href="#dis-advantages">(Dis)advantages</a></li></ul></li><li><a href="#proxy-pattern">Proxy Pattern</a></li><li><a href="#provider-pattern">Provider Pattern</a><ul><li><a href="#dis-advantages-1">(Dis)advantages</a></li></ul></li><li><a href="#observer-pattern">Observer Pattern</a></li></ul></div><p></p><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-hidden="true">#</a></h2><p>Design patterns are a fundamental part of software development, as they provide typical solutions to commonly recurring problems in software design. Rather than providing specific pieces of software, design patterns are merely concepts that can be used to handle recurring themes in an optimized way. Over the past couple of years, the web development ecosystem has changed rapidly. Whereas some well-known design patterns may simply not be as valuable as they used to be, others have evolved to solve modern problems with the latest technologies.</p><h2 id="singleton-pattern" tabindex="-1">Singleton Pattern <a class="header-anchor" href="#singleton-pattern" aria-hidden="true">#</a></h2><pre><code class="language-txt"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#dbd7caee">Share a single global instance throughout our application</span></span>
<span class="line"><span style="color:#dbd7caee"></span></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#393a34">Share a single global instance throughout our application</span></span>
<span class="line"><span style="color:#393a34"></span></span></code></pre></div></code></pre><p>Singletons are classes which can be instantiated once, and can be accessed globally. This <strong>single</strong> instance can be shared throughout our application, which makes Singletons great for managing global state in an application.</p><p>First, we’re going to build a <strong>Counter</strong> class that has:</p><ul><li>a <code>getInstance</code> method that returns the value of the instance</li><li>a <code>getCount</code> method that returns the current value of the counter variable</li><li>an <code>increment</code> method that increments the value of counter by one</li><li>a <code>decrement</code> method that decrements the value of counter by one</li></ul><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">let</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">counter</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">class</span><span style="color:#dbd7CAEE"> </span><span style="color:#5da9a7">Counter</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">getInstance</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">this</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">getCount</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">counter</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">increment</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">++</span><span style="color:#bd976a">counter</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">decrement</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">--</span><span style="color:#bd976a">counter</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">let</span><span style="color:#393a34"> </span><span style="color:#b07d48">counter</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">class</span><span style="color:#393a34"> </span><span style="color:#2e808f">Counter</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">getInstance</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#a65e2b">this</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">getCount</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#b07d48">counter</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">increment</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#ab5959">++</span><span style="color:#b07d48">counter</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">decrement</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#ab5959">--</span><span style="color:#b07d48">counter</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span></code></pre></div></code></pre><p>However, this class doesn’t meet the criteria for a Singleton! A Singleton should only be able to get instantiated <strong>once</strong>. One way to make sure that only one instance can be created, is by creating a variable called <strong>instance</strong>. In the constructor of Counter, we can set instance equal to a reference to the instance when a new instance is created. We can prevent new instantiations by checking if the instance variable already had a value. If that’s the case, an instance already exists.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">let</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">instance</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">let</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">counter</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">class</span><span style="color:#dbd7CAEE"> </span><span style="color:#5da9a7">Counter</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">constructor</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">if</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span><span style="color:#bd976a">instance</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#4d9375">throw</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">new</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Error</span><span style="color:#666">(</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">You can only create one instance!</span><span style="color:#c98A7DAA">"</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#bd976a">instance</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">this</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">getInstance</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">this</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">getCount</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">counter</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">increment</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">++</span><span style="color:#bd976a">counter</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">decrement</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">--</span><span style="color:#bd976a">counter</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">counter1</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">new</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Counter</span><span style="color:#666">();</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">counter2</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">new</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Counter</span><span style="color:#666">();</span></span>
<span class="line"><span style="color:#758575DD">// Error: You can only create one instance!</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">let</span><span style="color:#393a34"> </span><span style="color:#b07d48">instance</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">let</span><span style="color:#393a34"> </span><span style="color:#b07d48">counter</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">class</span><span style="color:#393a34"> </span><span style="color:#2e808f">Counter</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">constructor</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">if</span><span style="color:#393a34"> </span><span style="color:#999">(</span><span style="color:#b07d48">instance</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#1e754f">throw</span><span style="color:#393a34"> </span><span style="color:#ab5959">new</span><span style="color:#393a34"> </span><span style="color:#59873a">Error</span><span style="color:#999">(</span><span style="color:#b56959AA">"</span><span style="color:#b56959">You can only create one instance!</span><span style="color:#b56959AA">"</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#b07d48">instance</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#a65e2b">this</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">getInstance</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#a65e2b">this</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">getCount</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#b07d48">counter</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">increment</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#ab5959">++</span><span style="color:#b07d48">counter</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">decrement</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#ab5959">--</span><span style="color:#b07d48">counter</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">counter1</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#ab5959">new</span><span style="color:#393a34"> </span><span style="color:#59873a">Counter</span><span style="color:#999">();</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">counter2</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#ab5959">new</span><span style="color:#393a34"> </span><span style="color:#59873a">Counter</span><span style="color:#999">();</span></span>
<span class="line"><span style="color:#a0ada0">// Error: You can only create one instance!</span></span>
<span class="line"></span></code></pre></div></code></pre><p>Perfect! We aren’t able to create multiple instances anymore.</p><h3 id="dis-advantages" tabindex="-1">(Dis)advantages <a class="header-anchor" href="#dis-advantages" aria-hidden="true">#</a></h3><p>Restricting the instantiation to just one instance could potentially save a lot of memory space. Instead of having to set up memory for a new instance each time, we only have to set up memory for that one instance, which is referenced throughout the application. However, Singletons are actually considered an anti-pattern, and can (or… should) be avoided in JavaScript.</p><p>A Singleton instance should be able to get referenced throughout the entire app. Global variables essentially show the same behavior: since global variables are available on the global scope, we can access those variables throughout the application.</p><p>Having global variables is generally considered as a bad design decision. Global scope pollution can end up in accidentally overwriting the value of a global variable, which can lead to a lot of unexpected behavior.</p><h2 id="proxy-pattern" tabindex="-1">Proxy Pattern <a class="header-anchor" href="#proxy-pattern" aria-hidden="true">#</a></h2><pre><code class="language-txt"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#dbd7caee">Intercept and control interactions to target objects</span></span>
<span class="line"><span style="color:#dbd7caee"></span></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#393a34">Intercept and control interactions to target objects</span></span>
<span class="line"><span style="color:#393a34"></span></span></code></pre></div></code></pre><p>With a Proxy object, we get more control over the interactions with certain objects. A proxy object can determine the behavior whenever we’re interacting with the object, for example when we’re getting a value, or setting a value.</p><p>Generally speaking, a proxy means a stand-in for someone else. Instead of speaking to that person directly, you’ll speak to the proxy person who will represent the person you were trying to reach. The same happens in JavaScript: instead of interacting with the target object directly, we’ll interact with the Proxy object.</p><p>Let’s create a <strong>person</strong> object, that represents John Doe.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">person</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">name</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">John Doe</span><span style="color:#c98A7DAA">"</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">age</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">42</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">nationality</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">American</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">};</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">person</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">name</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">John Doe</span><span style="color:#b56959AA">"</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">age</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">42</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">nationality</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">American</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">};</span></span>
<span class="line"></span></code></pre></div></code></pre><p>Instead of interacting with this object directly, we want to interact with a proxy object. In JavaScript, we can easily create a new proxy by creating a new instance of <strong>Proxy</strong>.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">person</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">name</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">John Doe</span><span style="color:#c98A7DAA">"</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">age</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">42</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">nationality</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">American</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">personProxy</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">new</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Proxy</span><span style="color:#666">(</span><span style="color:#bd976a">person</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{});</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">person</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">name</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">John Doe</span><span style="color:#b56959AA">"</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">age</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">42</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">nationality</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">American</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">personProxy</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#ab5959">new</span><span style="color:#393a34"> </span><span style="color:#59873a">Proxy</span><span style="color:#999">(</span><span style="color:#b07d48">person</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#999">{});</span></span>
<span class="line"></span></code></pre></div></code></pre><p>The second argument of Proxy is an object that represents the <strong>handler</strong>. In the handler object, we can define specific behavior based on the type of interaction. Although there are many methods that you can add to the Proxy handler, the two most common ones are <code>get</code> and <code>set</code>:</p><ul><li><code>get</code>: Gets invoked when trying to access a property</li><li><code>set</code>: Gets invoked when trying to modify a property</li></ul><p>Let’s add handlers to the personProxy Proxy. When trying to modify a property, thus invoking the set method on the Proxy, we want the proxy to log the previous value and the new value of the property. When trying to access a property, thus invoking the get method on the Proxy, we want the proxy to log a more readable sentence that contains the key and value of the property.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">personProxy</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">new</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Proxy</span><span style="color:#666">(</span><span style="color:#bd976a">person</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">get</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span><span style="color:#bd976a">obj</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">prop</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#bd976a">console</span><span style="color:#666">.</span><span style="color:#80a665">log</span><span style="color:#666">(</span><span style="color:#c98A7DAA">`</span><span style="color:#c98a7d">The value of </span><span style="color:#666">${</span><span style="color:#c98a7d">prop</span><span style="color:#666">}</span><span style="color:#c98a7d"> is </span><span style="color:#666">${</span><span style="color:#c98a7d">obj</span><span style="color:#666">[</span><span style="color:#c98a7d">prop</span><span style="color:#666">]</span><span style="color:#666">}</span><span style="color:#c98A7DAA">`</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">},</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">set</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span><span style="color:#bd976a">obj</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">prop</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">value</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#bd976a">console</span><span style="color:#666">.</span><span style="color:#80a665">log</span><span style="color:#666">(</span><span style="color:#c98A7DAA">`</span><span style="color:#c98a7d">Changed </span><span style="color:#666">${</span><span style="color:#c98a7d">prop</span><span style="color:#666">}</span><span style="color:#c98a7d"> from </span><span style="color:#666">${</span><span style="color:#c98a7d">obj</span><span style="color:#666">[</span><span style="color:#c98a7d">prop</span><span style="color:#666">]</span><span style="color:#666">}</span><span style="color:#c98a7d"> to </span><span style="color:#666">${</span><span style="color:#c98a7d">value</span><span style="color:#666">}</span><span style="color:#c98A7DAA">`</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#bd976a">obj</span><span style="color:#666">[</span><span style="color:#bd976a">prop</span><span style="color:#666">]</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">value</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">});</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">personProxy</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#ab5959">new</span><span style="color:#393a34"> </span><span style="color:#59873a">Proxy</span><span style="color:#999">(</span><span style="color:#b07d48">person</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">get</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#999">(</span><span style="color:#b07d48">obj</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#b07d48">prop</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#b07d48">console</span><span style="color:#999">.</span><span style="color:#59873a">log</span><span style="color:#999">(</span><span style="color:#b56959AA">`</span><span style="color:#b56959">The value of </span><span style="color:#999">${</span><span style="color:#b56959">prop</span><span style="color:#999">}</span><span style="color:#b56959"> is </span><span style="color:#999">${</span><span style="color:#b56959">obj</span><span style="color:#999">[</span><span style="color:#b56959">prop</span><span style="color:#999">]</span><span style="color:#999">}</span><span style="color:#b56959AA">`</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">},</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">set</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#999">(</span><span style="color:#b07d48">obj</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#b07d48">prop</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#b07d48">value</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#b07d48">console</span><span style="color:#999">.</span><span style="color:#59873a">log</span><span style="color:#999">(</span><span style="color:#b56959AA">`</span><span style="color:#b56959">Changed </span><span style="color:#999">${</span><span style="color:#b56959">prop</span><span style="color:#999">}</span><span style="color:#b56959"> from </span><span style="color:#999">${</span><span style="color:#b56959">obj</span><span style="color:#999">[</span><span style="color:#b56959">prop</span><span style="color:#999">]</span><span style="color:#999">}</span><span style="color:#b56959"> to </span><span style="color:#999">${</span><span style="color:#b56959">value</span><span style="color:#999">}</span><span style="color:#b56959AA">`</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#b07d48">obj</span><span style="color:#999">[</span><span style="color:#b07d48">prop</span><span style="color:#999">]</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#b07d48">value</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">});</span></span>
<span class="line"></span></code></pre></div></code></pre><p>The proxy made sure that we weren’t modifying the person object with faulty values, which helps us keep our data pure!</p><h2 id="provider-pattern" tabindex="-1">Provider Pattern <a class="header-anchor" href="#provider-pattern" aria-hidden="true">#</a></h2><pre><code class="language-txt"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#dbd7caee">Make data available to multiple child components</span></span>
<span class="line"><span style="color:#dbd7caee"></span></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#393a34">Make data available to multiple child components</span></span>
<span class="line"><span style="color:#393a34"></span></span></code></pre></div></code></pre><p>In some cases, we want to make available data to many (if not all) components in an application. Although we can pass data to components using <strong>props</strong>, this can be difficult to do if almost all components in your application need access to the value of the props. We often end up with something called <strong>prop drilling</strong>, which is the case when we pass props far down the component tree. Refactoring the code that relies on the props becomes almost impossible, and knowing where certain data comes from is difficult.</p><p>Let’s say that we have one <strong>App</strong> component that contains certain data. Far down the component tree, we have a <strong>ListItem</strong>, <strong>Header</strong> and <strong>Text</strong> component that all need this data. In order to get this data to these components, we’d have to pass it through multiple layers of components.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">App</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">...</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">SideBar</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Content</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">)</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">SideBar</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#b8a965">List</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">List</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#b8a965">ListItem</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">ListItem</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">span</span><span style="color:#666">&gt;{</span><span style="color:#bd976a">data</span><span style="color:#666">.</span><span style="color:#bd976a">listItem</span><span style="color:#666">}&lt;/</span><span style="color:#4d9375">span</span><span style="color:#666">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Content</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Header</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Block</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#666">)</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Header</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;{</span><span style="color:#bd976a">data</span><span style="color:#666">.</span><span style="color:#bd976a">title</span><span style="color:#666">}&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Block</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Text</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Text</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">({</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">})</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">h1</span><span style="color:#666">&gt;{</span><span style="color:#bd976a">data</span><span style="color:#666">.</span><span style="color:#bd976a">text</span><span style="color:#666">}&lt;/</span><span style="color:#4d9375">h1</span><span style="color:#666">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">App</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#999">...</span><span style="color:#393a34"> </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">SideBar</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">Content</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">)</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">SideBar</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#998418">List</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">List</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#998418">ListItem</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">ListItem</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">span</span><span style="color:#999">&gt;{</span><span style="color:#b07d48">data</span><span style="color:#999">.</span><span style="color:#b07d48">listItem</span><span style="color:#999">}&lt;/</span><span style="color:#1e754f">span</span><span style="color:#999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">Content</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#998418">Header</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#998418">Block</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#999">)</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">Header</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;{</span><span style="color:#b07d48">data</span><span style="color:#999">.</span><span style="color:#b07d48">title</span><span style="color:#999">}&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">Block</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#998418">Text</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">Text</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">({</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">})</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">h1</span><span style="color:#999">&gt;{</span><span style="color:#b07d48">data</span><span style="color:#999">.</span><span style="color:#b07d48">text</span><span style="color:#999">}&lt;/</span><span style="color:#1e754f">h1</span><span style="color:#999">&gt;</span></span>
<span class="line"></span></code></pre></div></code></pre><p>Passing props down this way can get quite messy. It would be optimal if we could skip all the layers of components that don’t need to use this data.</p><p>This is where the Provider Pattern can help us out! With the Provider Pattern, we can make data available to multiple components. Rather than passing that data down each layer through props, we can wrap all components in a <strong>Provider</strong>.</p><p>A <strong>Provider</strong> is a higher order component provided to us by the <strong>Context</strong> object. We can create a Context object, using the <strong>createContext</strong> method that React provides for us.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">DataContext</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">React</span><span style="color:#666">.</span><span style="color:#80a665">createContext</span><span style="color:#666">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">App</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">...</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">DataContext.Provider</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">value</span><span style="color:#666">={</span><span style="color:#bd976a">data</span><span style="color:#666">}&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">        </span><span style="color:#666">&lt;</span><span style="color:#b8a965">SideBar</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">        </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Content</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;/</span><span style="color:#b8a965">DataContext.Provider</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">)</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">DataContext</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#b07d48">React</span><span style="color:#999">.</span><span style="color:#59873a">createContext</span><span style="color:#999">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">App</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#999">...</span><span style="color:#393a34"> </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">DataContext.Provider</span><span style="color:#393a34"> </span><span style="color:#b07d48">value</span><span style="color:#999">={</span><span style="color:#b07d48">data</span><span style="color:#999">}&gt;</span></span>
<span class="line"><span style="color:#393a34">        </span><span style="color:#999">&lt;</span><span style="color:#998418">SideBar</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">        </span><span style="color:#999">&lt;</span><span style="color:#998418">Content</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;/</span><span style="color:#998418">DataContext.Provider</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">)</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span></code></pre></div></code></pre><p>Each component can get access to the data, by using the <strong>useContext</strong> hook.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">DataContext</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">React</span><span style="color:#666">.</span><span style="color:#80a665">createContext</span><span style="color:#666">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">App</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">...</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">SideBar</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Content</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">)</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">SideBar</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#b8a965">List</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">List</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#b8a965">ListItem</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Content</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;&lt;</span><span style="color:#b8a965">Header</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;&lt;</span><span style="color:#b8a965">Block</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">ListItem</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">React</span><span style="color:#666">.</span><span style="color:#80a665">useContext</span><span style="color:#666">(</span><span style="color:#bd976a">DataContext</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">span</span><span style="color:#666">&gt;{</span><span style="color:#bd976a">data</span><span style="color:#666">.</span><span style="color:#bd976a">listItem</span><span style="color:#666">}&lt;/</span><span style="color:#4d9375">span</span><span style="color:#666">&gt;;</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Text</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">React</span><span style="color:#666">.</span><span style="color:#80a665">useContext</span><span style="color:#666">(</span><span style="color:#bd976a">DataContext</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">h1</span><span style="color:#666">&gt;{</span><span style="color:#bd976a">data</span><span style="color:#666">.</span><span style="color:#bd976a">text</span><span style="color:#666">}&lt;/</span><span style="color:#4d9375">h1</span><span style="color:#666">&gt;;</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">Header</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">const</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">data</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">React</span><span style="color:#666">.</span><span style="color:#80a665">useContext</span><span style="color:#666">(</span><span style="color:#bd976a">DataContext</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;{</span><span style="color:#bd976a">data</span><span style="color:#666">.</span><span style="color:#bd976a">title</span><span style="color:#666">}&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;;</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">DataContext</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#b07d48">React</span><span style="color:#999">.</span><span style="color:#59873a">createContext</span><span style="color:#999">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">App</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#999">...</span><span style="color:#393a34"> </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">SideBar</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">Content</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">)</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">SideBar</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#998418">List</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">List</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#998418">ListItem</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#59873a">Content</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;&lt;</span><span style="color:#998418">Header</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;&lt;</span><span style="color:#998418">Block</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">ListItem</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#b07d48">React</span><span style="color:#999">.</span><span style="color:#59873a">useContext</span><span style="color:#999">(</span><span style="color:#b07d48">DataContext</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">span</span><span style="color:#999">&gt;{</span><span style="color:#b07d48">data</span><span style="color:#999">.</span><span style="color:#b07d48">listItem</span><span style="color:#999">}&lt;/</span><span style="color:#1e754f">span</span><span style="color:#999">&gt;;</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">Text</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#b07d48">React</span><span style="color:#999">.</span><span style="color:#59873a">useContext</span><span style="color:#999">(</span><span style="color:#b07d48">DataContext</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">h1</span><span style="color:#999">&gt;{</span><span style="color:#b07d48">data</span><span style="color:#999">.</span><span style="color:#b07d48">text</span><span style="color:#999">}&lt;/</span><span style="color:#1e754f">h1</span><span style="color:#999">&gt;;</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">Header</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">const</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#b07d48">data</span><span style="color:#393a34"> </span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#b07d48">React</span><span style="color:#999">.</span><span style="color:#59873a">useContext</span><span style="color:#999">(</span><span style="color:#b07d48">DataContext</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;{</span><span style="color:#b07d48">data</span><span style="color:#999">.</span><span style="color:#b07d48">title</span><span style="color:#999">}&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;;</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span></code></pre></div></code></pre><p>We no longer have to worry about passing props down several levels through components that don’t need the value of the props, which makes refactoring a lot easier.</p><h3 id="dis-advantages-1" tabindex="-1">(Dis)advantages <a class="header-anchor" href="#dis-advantages-1" aria-hidden="true">#</a></h3><p>The Provider pattern/Context API makes it possible to pass data to many components, without having to manually pass it through each component layer. It reduces the risk of accidentally introducing bugs when refactoring code. We no longer have to deal with prop-drilling, which could be seen as an anti-pattern.</p><p>In some cases, overusing the Provider pattern can result in performance issues. All components that consume the context re-render on each state change. To make sure that components aren’t consuming providers that contain unnecessary values which may update, you can create several providers for each separate usecase.</p><h2 id="observer-pattern" tabindex="-1">Observer Pattern <a class="header-anchor" href="#observer-pattern" aria-hidden="true">#</a></h2><pre><code class="language-txt"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#dbd7caee">Use observables to notify subscribers when an event occurs</span></span>
<span class="line"><span style="color:#dbd7caee"></span></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#393a34">Use observables to notify subscribers when an event occurs</span></span>
<span class="line"><span style="color:#393a34"></span></span></code></pre></div></code></pre><p>With the observer pattern, we can <strong>subscribe</strong> certain objects, the <strong>observers</strong>, to another object, called the observable. Whenever an event occurs, the observable notifies all its observers!</p><p>An observable object usually contains 3 important parts:</p><ul><li><code>observers</code>: an array of observers that will get notified whenever a specific event occurs</li><li><code>subscribe()</code>: a method in order to add observers to the observers list</li><li><code>unsubscribe()</code>: a method in order to remove observers from the observers list</li><li><code>notify()</code>: a method to notify all observers whenever a specific event occurs</li></ul><p>An easy way of creating one, is by using an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener">ES6 class</a>.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#cb7676">class</span><span style="color:#dbd7CAEE"> </span><span style="color:#5da9a7">Observable</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">constructor</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#c99076">this</span><span style="color:#666">.</span><span style="color:#bd976a">observers</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">[];</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">subscribe</span><span style="color:#666">(</span><span style="color:#bd976a">func</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#c99076">this</span><span style="color:#666">.</span><span style="color:#bd976a">observers</span><span style="color:#666">.</span><span style="color:#80a665">push</span><span style="color:#666">(</span><span style="color:#bd976a">func</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">unsubscribe</span><span style="color:#666">(</span><span style="color:#bd976a">func</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#c99076">this</span><span style="color:#666">.</span><span style="color:#bd976a">observers</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">this</span><span style="color:#666">.</span><span style="color:#bd976a">observers</span><span style="color:#666">.</span><span style="color:#80a665">filter</span><span style="color:#666">(</span><span style="color:#bd976a">observer</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">observer</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">!==</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">func</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">notify</span><span style="color:#666">(</span><span style="color:#bd976a">data</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#c99076">this</span><span style="color:#666">.</span><span style="color:#bd976a">observers</span><span style="color:#666">.</span><span style="color:#80a665">forEach</span><span style="color:#666">(</span><span style="color:#bd976a">observer</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">=&gt;</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">observer</span><span style="color:#666">(</span><span style="color:#bd976a">data</span><span style="color:#666">));</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#ab5959">class</span><span style="color:#393a34"> </span><span style="color:#2e808f">Observable</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">constructor</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#a65e2b">this</span><span style="color:#999">.</span><span style="color:#b07d48">observers</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#999">[];</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">subscribe</span><span style="color:#999">(</span><span style="color:#b07d48">func</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#a65e2b">this</span><span style="color:#999">.</span><span style="color:#b07d48">observers</span><span style="color:#999">.</span><span style="color:#59873a">push</span><span style="color:#999">(</span><span style="color:#b07d48">func</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">unsubscribe</span><span style="color:#999">(</span><span style="color:#b07d48">func</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#a65e2b">this</span><span style="color:#999">.</span><span style="color:#b07d48">observers</span><span style="color:#393a34"> </span><span style="color:#999">=</span><span style="color:#393a34"> </span><span style="color:#a65e2b">this</span><span style="color:#999">.</span><span style="color:#b07d48">observers</span><span style="color:#999">.</span><span style="color:#59873a">filter</span><span style="color:#999">(</span><span style="color:#b07d48">observer</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#b07d48">observer</span><span style="color:#393a34"> </span><span style="color:#ab5959">!==</span><span style="color:#393a34"> </span><span style="color:#b07d48">func</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">notify</span><span style="color:#999">(</span><span style="color:#b07d48">data</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#a65e2b">this</span><span style="color:#999">.</span><span style="color:#b07d48">observers</span><span style="color:#999">.</span><span style="color:#59873a">forEach</span><span style="color:#999">(</span><span style="color:#b07d48">observer</span><span style="color:#393a34"> </span><span style="color:#999">=&gt;</span><span style="color:#393a34"> </span><span style="color:#59873a">observer</span><span style="color:#999">(</span><span style="color:#b07d48">data</span><span style="color:#999">));</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span></code></pre></div></code></pre><p>Awesome! We can now add observers to the list of observers with the subscribe method, remove the observers with the unsubscribe method, and notify all subscribes with the notify method.</p><p>Let’s build something with this observable. We have a very basic app that only consists of two components: a <strong>Button</strong>, and a <strong>Switch</strong>.</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#4d9375">export</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">default</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">App</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">className</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">App</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Button</span><span style="color:#666">&gt;</span><span style="color:#dbd7CAEE">Click me!</span><span style="color:#666">&lt;/</span><span style="color:#b8a965">Button</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">FormControlLabel</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">control</span><span style="color:#666">={&lt;</span><span style="color:#b8a965">Switch</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#1e754f">export</span><span style="color:#393a34"> </span><span style="color:#1e754f">default</span><span style="color:#393a34"> </span><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">App</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#393a34"> </span><span style="color:#b07d48">className</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">App</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">Button</span><span style="color:#999">&gt;</span><span style="color:#393a34">Click me!</span><span style="color:#999">&lt;/</span><span style="color:#998418">Button</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">FormControlLabel</span><span style="color:#393a34"> </span><span style="color:#b07d48">control</span><span style="color:#999">={&lt;</span><span style="color:#998418">Switch</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span></code></pre></div></code></pre><p>We want to keep track of the user interaction with the application. Whenever a user either clicks the button or toggles the switch, we want to log this event with the timestamp. Besides logging it, we also want to create a toast notification that shows up whenever an event occurs! Whenever the user invokes the handleClick or handleToggle function, the functions invoke the notify method on the observer. The <strong>notify</strong> method notifies all subscribers with the data that was passed by the <strong>handleClick</strong> or <strong>handleToggle</strong> function!</p><pre><code class="language-js"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">ToastContainer</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">toast</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">react-toastify</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">logger</span><span style="color:#666">(</span><span style="color:#bd976a">data</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#bd976a">console</span><span style="color:#666">.</span><span style="color:#80a665">log</span><span style="color:#666">(</span><span style="color:#c98A7DAA">`</span><span style="color:#666">${</span><span style="color:#c98a7d">Date</span><span style="color:#666">.</span><span style="color:#80a665">now</span><span style="color:#666">()</span><span style="color:#666">}</span><span style="color:#c98a7d"> </span><span style="color:#666">${</span><span style="color:#c98a7d">data</span><span style="color:#666">}</span><span style="color:#c98A7DAA">`</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">toastify</span><span style="color:#666">(</span><span style="color:#bd976a">data</span><span style="color:#666">)</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#80a665">toast</span><span style="color:#666">(</span><span style="color:#bd976a">data</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd976a">observable</span><span style="color:#666">.</span><span style="color:#80a665">subscribe</span><span style="color:#666">(</span><span style="color:#bd976a">logger</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#bd976a">observable</span><span style="color:#666">.</span><span style="color:#80a665">subscribe</span><span style="color:#666">(</span><span style="color:#bd976a">toastify</span><span style="color:#666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4d9375">export</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">default</span><span style="color:#dbd7CAEE"> </span><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">App</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">handleClick</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#bd976a">observable</span><span style="color:#666">.</span><span style="color:#80a665">notify</span><span style="color:#666">(</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">User clicked button!</span><span style="color:#c98A7DAA">"</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#cb7676">function</span><span style="color:#dbd7CAEE"> </span><span style="color:#80a665">handleToggle</span><span style="color:#666">()</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#bd976a">observable</span><span style="color:#666">.</span><span style="color:#80a665">notify</span><span style="color:#666">(</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">User toggled switch!</span><span style="color:#c98A7DAA">"</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#4d9375">return</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">className</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">App</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Button</span><span style="color:#666">&gt;</span><span style="color:#dbd7CAEE">Click me!</span><span style="color:#666">&lt;/</span><span style="color:#b8a965">Button</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">FormControlLabel</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">control</span><span style="color:#666">={&lt;</span><span style="color:#b8a965">Switch</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;}</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#b8a965">ToastContainer</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">/&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#b07d48">ToastContainer</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#b07d48">toast</span><span style="color:#393a34"> </span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">react-toastify</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">logger</span><span style="color:#999">(</span><span style="color:#b07d48">data</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#b07d48">console</span><span style="color:#999">.</span><span style="color:#59873a">log</span><span style="color:#999">(</span><span style="color:#b56959AA">`</span><span style="color:#999">${</span><span style="color:#b56959">Date</span><span style="color:#999">.</span><span style="color:#59873a">now</span><span style="color:#999">()</span><span style="color:#999">}</span><span style="color:#b56959"> </span><span style="color:#999">${</span><span style="color:#b56959">data</span><span style="color:#999">}</span><span style="color:#b56959AA">`</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">toastify</span><span style="color:#999">(</span><span style="color:#b07d48">data</span><span style="color:#999">)</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#59873a">toast</span><span style="color:#999">(</span><span style="color:#b07d48">data</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#b07d48">observable</span><span style="color:#999">.</span><span style="color:#59873a">subscribe</span><span style="color:#999">(</span><span style="color:#b07d48">logger</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#b07d48">observable</span><span style="color:#999">.</span><span style="color:#59873a">subscribe</span><span style="color:#999">(</span><span style="color:#b07d48">toastify</span><span style="color:#999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1e754f">export</span><span style="color:#393a34"> </span><span style="color:#1e754f">default</span><span style="color:#393a34"> </span><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">App</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">handleClick</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#b07d48">observable</span><span style="color:#999">.</span><span style="color:#59873a">notify</span><span style="color:#999">(</span><span style="color:#b56959AA">"</span><span style="color:#b56959">User clicked button!</span><span style="color:#b56959AA">"</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#ab5959">function</span><span style="color:#393a34"> </span><span style="color:#59873a">handleToggle</span><span style="color:#999">()</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#b07d48">observable</span><span style="color:#999">.</span><span style="color:#59873a">notify</span><span style="color:#999">(</span><span style="color:#b56959AA">"</span><span style="color:#b56959">User toggled switch!</span><span style="color:#b56959AA">"</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#1e754f">return</span><span style="color:#393a34"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#393a34"> </span><span style="color:#b07d48">className</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">App</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">Button</span><span style="color:#999">&gt;</span><span style="color:#393a34">Click me!</span><span style="color:#999">&lt;/</span><span style="color:#998418">Button</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">FormControlLabel</span><span style="color:#393a34"> </span><span style="color:#b07d48">control</span><span style="color:#999">={&lt;</span><span style="color:#998418">Switch</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;}</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#998418">ToastContainer</span><span style="color:#393a34"> </span><span style="color:#999">/&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span></code></pre></div></code></pre><p>Whenever a user interacts with either of the components, both the <strong>logger</strong> and the <strong>toastify</strong> functions will get notified with the data that we passed to the <strong>notify</strong> method!</p><p>Although we can use the observer pattern in many ways, it can be very useful when working with <strong>asynchronous</strong>, <strong>event-based data</strong>. Maybe you want certain components to get notified whenever certain data has finished downloading, or whenever users sent new messages to a message board and all other members should get notified.</p></div><!--]--></article><div class="prose m-auto mt-8 mb-8"><span font-mono="" op50="">&gt; </span><a href="/posts" class="font-mono op50 hover:op75"></a></div><!--]--><div class="mt-10 mb-6 prose m-auto opacity-50 flex"><span class="text-sm"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color:inherit">CC BY-NC-SA 4.0</a> 2022-PRESENT © Jeff</span><div class="flex-auto"></div></div></main><!--]--></div><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><link rel="stylesheet" href="/assets/index-85ed439e.css"></body></html>